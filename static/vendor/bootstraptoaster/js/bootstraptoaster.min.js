const TOAST_CONTAINER=document.createElement("div");TOAST_CONTAINER.id="toastContainer",TOAST_CONTAINER.className="position-fixed top-0 right-0",TOAST_CONTAINER.setAttribute("aria-live","polite"),document.body.appendChild(TOAST_CONTAINER);const TOAST_TEMPLATE=document.createElement("div");var TOAST_STATUS,TOAST_PLACEMENT,TOAST_THEME,TOAST_TIMERS;TOAST_TEMPLATE.className="toast",TOAST_TEMPLATE.setAttribute("role","status"),TOAST_TEMPLATE.setAttribute("aria-live","polite"),TOAST_TEMPLATE.setAttribute("aria-atomic","true"),TOAST_TEMPLATE.setAttribute("data-autohide","false"),TOAST_TEMPLATE.innerHTML="\n        <div class='toast-header'>\n            <span class='status-icon bi mr-2' aria-hidden='true'></span>\n            <strong class='mr-auto toast-title'></strong>\n            <small class='timer' aria-hidden='true'></small>\n            <button type='button' class='ml-2 mb-1 close' data-dismiss='toast' aria-label='Close'>\n                <span aria-hidden='true'>&times;</span>\n            </button>\n        </div>\n        <div class='toast-body'></div>",function(t){t[t.SUCCESS=1]="SUCCESS",t[t.DANGER=2]="DANGER",t[t.WARNING=3]="WARNING",t[t.INFO=4]="INFO"}(TOAST_STATUS||(TOAST_STATUS={})),function(t){t[t.TOP_LEFT=1]="TOP_LEFT",t[t.TOP_CENTER=2]="TOP_CENTER",t[t.TOP_RIGHT=3]="TOP_RIGHT",t[t.MIDDLE_LEFT=4]="MIDDLE_LEFT",t[t.MIDDLE_CENTER=5]="MIDDLE_CENTER",t[t.MIDDLE_RIGHT=6]="MIDDLE_RIGHT",t[t.BOTTOM_LEFT=7]="BOTTOM_LEFT",t[t.BOTTOM_CENTER=8]="BOTTOM_CENTER",t[t.BOTTOM_RIGHT=9]="BOTTOM_RIGHT"}(TOAST_PLACEMENT||(TOAST_PLACEMENT={})),function(t){t[t.LIGHT=1]="LIGHT",t[t.DARK=2]="DARK"}(TOAST_THEME||(TOAST_THEME={})),function(t){t[t.DISABLED=0]="DISABLED",t[t.ELAPSED=1]="ELAPSED",t[t.COUNTDOWN=2]="COUNTDOWN"}(TOAST_TIMERS||(TOAST_TIMERS={}));class Toast{static configure(t){this.setMaxCount(null==t?void 0:t.maxToasts),this.setPlacement(null==t?void 0:t.placement),this.setTheme(null==t?void 0:t.theme),this.enableTimers(null==t?void 0:t.enableTimers),this.enableQueue(null==t?void 0:t.enableQueue)}static setMaxCount(t){null!==t&&(t>0?this.maxToastCount=t:console.error("The maximum number of toasts must be greater than 0. Reverting to default."))}static setPlacement(t){switch(TOAST_CONTAINER.className="toast-container position-fixed",t){case TOAST_PLACEMENT.TOP_LEFT:TOAST_CONTAINER.classList.add("top-0","left-0");break;case TOAST_PLACEMENT.TOP_CENTER:TOAST_CONTAINER.classList.add("top-0","left-50","translate-middle-x");break;case TOAST_PLACEMENT.TOP_RIGHT:TOAST_CONTAINER.classList.add("top-0","right-0");break;case TOAST_PLACEMENT.MIDDLE_LEFT:TOAST_CONTAINER.classList.add("top-50","left-0","translate-middle-y");break;case TOAST_PLACEMENT.MIDDLE_CENTER:TOAST_CONTAINER.classList.add("top-50","left-50","translate-middle");break;case TOAST_PLACEMENT.MIDDLE_RIGHT:TOAST_CONTAINER.classList.add("top-50","right-0","translate-middle-y");break;case TOAST_PLACEMENT.BOTTOM_LEFT:TOAST_CONTAINER.classList.add("bottom-0","left-0");break;case TOAST_PLACEMENT.BOTTOM_CENTER:TOAST_CONTAINER.classList.add("bottom-0","left-50","translate-middle-x");break;case TOAST_PLACEMENT.BOTTOM_RIGHT:TOAST_CONTAINER.classList.add("bottom-0","right-0");break;default:TOAST_CONTAINER.classList.add("top-0","right-0")}}static setTheme(t=null){let e=TOAST_TEMPLATE.querySelector(".toast-header"),a=e.querySelector(".close");switch(t){case TOAST_THEME.LIGHT:TOAST_TEMPLATE.style.backgroundColor="var(--body-bg-color-light)",TOAST_TEMPLATE.style.color="var(--text-color-light)",e.style.color="var(--header-color-light)",a.style.color="var(--text-color-light)";break;case TOAST_THEME.DARK:TOAST_TEMPLATE.style.backgroundColor="var(--body-bg-color-dark)",TOAST_TEMPLATE.style.color="var(--text-color-dark)",e.style.color="var(--header-color-dark)",a.style.color="var(--text-color-dark)";break;default:TOAST_TEMPLATE.removeAttribute("style"),e.removeAttribute("style"),a.removeAttribute("style")}}static enableTimers(t){this.timersEnabled=t}static enableQueue(t=!0){this.queueEnabled=t,t||(this.queue=[])}static create(t){let e=TOAST_TEMPLATE.cloneNode(!0);if(e.querySelector(".toast-title").innerText=t.title,e.querySelector(".toast-body").innerHTML=t.message,this.setStatus(e,t.status),this.currentToastCount>=this.maxToastCount){if(!this.queueEnabled)return;const a={toast:e,timeout:t.timeout,pauseDelayOnHover:t.pauseDelayOnHover,onHidden:t.onHidden};return void this.queue.push(a)}const a={toast:e,timeout:t.timeout,pauseDelayOnHover:t.pauseDelayOnHover,onHidden:t.onHidden};this.render(a)}static setStatus(t,e){let a=t.querySelector(".toast-header"),T=t.querySelector(".status-icon");switch(e){case TOAST_STATUS.SUCCESS:a.style.backgroundImage="var(--header-bg-color-success-light)",T.classList.add("text-success","bi-check-circle-fill");break;case TOAST_STATUS.DANGER:a.style.backgroundImage="var(--header-bg-color-danger-light)",T.classList.add("text-danger","bi-x-circle-fill"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");break;case TOAST_STATUS.WARNING:a.style.backgroundImage="var(--header-bg-color-warning-light)",T.classList.add("text-warning","bi-exclamation-circle-fill"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");break;case TOAST_STATUS.INFO:a.style.backgroundImage="var(--header-bg-color-info-light)",T.classList.add("text-info","bi-info-circle-fill");break;default:T.classList.add("d-none")}}static render(t){let e=!1;if(t.timeout>0&&(t.toast.setAttribute("data-delay",t.timeout.toString()),t.toast.setAttribute("data-autohide","true"),t.pauseDelayOnHover)){t.toast.removeAttribute("data-delay"),t.toast.setAttribute("data-autohide","false");var a=Math.floor(Date.now()/1e3)+t.timeout/1e3;t.toast.setAttribute("data-hide-after",a.toString())}t.pauseDelayOnHover&&(setTimeout((function(){e||$(t.toast).toast("hide")}),t.timeout),$(t.toast).on("mouseover",(function(){e=!0})),$(t.toast).on("mouseleave",(function(){const a=Math.floor(Date.now()/1e3),T=parseInt($(this).data("hideAfter"));e=!1,a>=T&&$(t.toast).toast("hide")}))),this.renderTimer(t),TOAST_CONTAINER.appendChild(t.toast),$(t.toast).toast("show"),this.currentToastCount++,$(t.toast).on("hidden.bs.toast",(()=>{if(t.onHidden&&t.onHidden(t.toast),TOAST_CONTAINER.removeChild(t.toast),this.currentToastCount--,this.queueEnabled&&this.queue.length>0&&this.currentToastCount<this.maxToastCount){const t=this.queue.shift();this.render(t)}}))}static renderTimer(t){let e=t.toast.querySelector(".timer");switch(this.timersEnabled){case TOAST_TIMERS.ELAPSED:{e.innerText="just now";let a=1,T=setInterval((()=>{e.innerText=`${a}m ago`,a++}),6e4);$(t.toast).on("hidden.bs.toast",(()=>{clearInterval(T)}));break}case TOAST_TIMERS.COUNTDOWN:if(t.timeout>0){let a=t.timeout/1e3;e.innerText=`${a}s`;let T=setInterval((()=>{e.innerText=`${a-1<0?Math.abs(a):a-1}s`,a--}),1e3);$(t.toast).on("hidden.bs.toast",(()=>{clearInterval(T)}));break}default:t.toast.querySelector(".toast-header").removeChild(e);break}}static oldConfigure(t=null,e=TOAST_PLACEMENT.TOP_RIGHT,a=null,T=!0){const s={maxToasts:t,placement:e,theme:a,enableTimers:T?TOAST_TIMERS.ELAPSED:TOAST_TIMERS.DISABLED};this.configure(s)}static oldCreate(t,e,a=0,T=0){const s={title:t,message:e,status:a,timeout:T};this.create(s)}static oldEnableTimers(t){this.timersEnabled=t?TOAST_TIMERS.ELAPSED:TOAST_TIMERS.DISABLED}}Toast.maxToastCount=6,Toast.currentToastCount=0,Toast.timersEnabled=TOAST_TIMERS.ELAPSED,Toast.queueEnabled=!0,Toast.queue=[];
